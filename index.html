<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OTENZZA — Presence, Identity, Precision.</title>
  <meta name="description" content="A private, intentional space. No feed. No vanity metrics. Just your Cube." />
  <link rel="icon" href="/favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --bg:#0b0b0d; --ink:#e7e7ea; --muted:#a0a0a6; --blue:#214BFF; }
    html,body{ height:100% }
    body{
      background: radial-gradient(1200px 800px at 50% -10%, #101015 0%, #0b0b0d 45%, #07070a 100%);
      color:var(--ink);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    #cubeCanvas{
      display:block;
      width:min(92vw, 720px);
      height:min(72vh, 520px);
      margin-inline:auto;
      touch-action:none; /* pra gestos de arrastar funcionarem bem no mobile */
      cursor:grab;
    }
    #cubeCanvas.dragging{ cursor:grabbing }
    .field{ background:#0f0f13; border:1px solid rgba(255,255,255,.08) }
    .field:focus{ outline:none; border-color:rgba(255,255,255,.22); box-shadow:0 0 0 4px rgba(255,255,255,.05) }
    .cta{ background:#fff; color:#000; font-weight:600 }
    .cta:hover{ background:rgba(255,255,255,.92) }
    .brand{ letter-spacing:.22em }
  </style>
</head>
<body>
  <div class="min-h-dvh flex flex-col">
    <header class="max-w-5xl mx-auto px-5 pt-6 pb-2 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <!-- mini-cubo flat -->
        <svg width="22" height="22" viewBox="0 0 240 240" aria-hidden="true">
          <defs>
            <linearGradient id="mTop" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#A9BBFF" stop-opacity="0.75"/>
              <stop offset="100%" stop-color="#214BFF" stop-opacity="0.90"/>
            </linearGradient>
            <linearGradient id="mLeft" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#1332B8"/>
              <stop offset="100%" stop-color="#1C2C6E"/>
            </linearGradient>
            <linearGradient id="mRight" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#2D5BFF"/>
              <stop offset="100%" stop-color="#1A3DE0"/>
            </linearGradient>
          </defs>
          <polygon fill="url(#mTop)"  points="120,28 205,78 120,128 35,78"/>
          <polygon fill="url(#mLeft)" points="35,78 120,128 120,208 35,158"/>
          <polygon fill="url(#mRight)" points="205,78 120,128 120,208 205,158"/>
        </svg>
        <span class="brand text-xs font-semibold">OTENZZA</span>
      </div>
      <a href="/beta/" class="text-xs text-zinc-400 hover:text-zinc-200">/beta</a>
    </header>

    <main class="flex-1 max-w-5xl mx-auto px-5 pb-14 text-center">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight mt-2">
        Presence. Identity. <span class="text-white/90">Precision.</span>
      </h1>
      <p class="text-zinc-400 mt-3 max-w-2xl mx-auto">
        A private, intentional space. No feed. No vanity metrics. Just your Cube.
      </p>

      <!-- Canvas do cubo -->
      <canvas id="cubeCanvas" aria-label="Interactive Otenzza Cube"></canvas>

      <!-- Lead -->
      <form action="https://buttondown.email/api/emails/embed-subscribe/YOUR_USERNAME"
            method="post" target="_blank"
            class="mt-8 flex flex-col sm:flex-row gap-3 justify-center px-5">
        <input type="email" name="email" required
               class="field rounded-2xl px-4 py-3 w-full sm:w-80"
               placeholder="your@email.com" />
        <button class="cta rounded-2xl px-5 py-3">Reserve early access</button>
      </form>
      <p class="text-[11px] text-zinc-500 mt-3">Founding members — limited circle.</p>
    </main>

    <footer class="text-[12px] text-zinc-500 py-6 text-center">
      © <span id="year"></span> Otenzza. All rights reserved.
    </footer>
  </div>

  <!-- Three.js único (sem OrbitControls) -->
  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script>
    // ano
    document.getElementById('year').textContent = new Date().getFullYear();

    const canvas   = document.getElementById('cubeCanvas');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setClearColor(0x000000, 0); // fundo transparente

    const scene  = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(35, 1, 0.1, 100);
    camera.position.set(3.2, 2.4, 4.2);
    scene.add(camera);

    // Luzes clean (sem sombras)
    scene.add(new THREE.AmbientLight(0xffffff, 0.6));
    const key = new THREE.DirectionalLight(0xffffff, 0.9);
    key.position.set(3, 5, 4);
    scene.add(key);

    // Cubo “maduro”
    const size = 1.6;
    const geo  = new THREE.BoxGeometry(size, size, size);
    const mat  = new THREE.MeshStandardMaterial({
      color: '#214BFF',
      metalness: 0.85,
      roughness: 0.15,
      transparent: true,
      opacity: 0.92
    });
    const cube = new THREE.Mesh(geo, mat);
    scene.add(cube);

    // Arestas discretas
    const edges = new THREE.LineSegments(
      new THREE.EdgesGeometry(geo),
      new THREE.LineBasicMaterial({ color: 0xffffff, transparent:true, opacity:0.18 })
    );
    cube.add(edges);

    // Resize responsivo do canvas
    function resize(){
      const w = canvas.clientWidth;
      const h = canvas.clientHeight;
      renderer.setSize(w, h, false);
      camera.aspect = w / h;
      camera.updateProjectionMatrix();
    }
    window.addEventListener('resize', resize, { passive:true });
    resize();

    // Controles de arrastar (mouse/touch)
    let dragging = false, lastX = 0, lastY = 0, velX = 0, velY = 0;
    const damp = 0.92; // inércia

    function onDown(x, y){
      dragging = true; lastX = x; lastY = y;
      canvas.classList.add('dragging');
    }
    function onMove(x, y){
      if(!dragging) return;
      const dx = (x - lastX) / 160;
      const dy = (y - lastY) / 160;
      lastX = x; lastY = y;
      cube.rotation.y += dx;
      cube.rotation.x += dy;
      velX = dx; velY = dy;
    }
    function onUp(){ dragging = false; canvas.classList.remove('dragging'); }

    // mouse
    canvas.addEventListener('mousedown', e => onDown(e.clientX, e.clientY));
    window.addEventListener('mousemove', e => onMove(e.clientX, e.clientY));
    window.addEventListener('mouseup', onUp);

    // touch
    canvas.addEventListener('touchstart', e => {
      const t = e.touches[0]; onDown(t.clientX, t.clientY);
    }, {passive:true});
    window.addEventListener('touchmove', e => {
      const t = e.touches[0]; if(t) onMove(t.clientX, t.clientY);
    }, {passive:true});
    window.addEventListener('touchend', onUp);

    // Loop com inércia suave
    function tick(){
      if(!dragging){
        cube.rotation.y += velX;
        cube.rotation.x += velY;
        velX *= damp; velY *= damp;
      }
      renderer.render(scene, camera);
      requestAnimationFrame(tick);
    }
    tick();
  </script>
</body>
</html>
