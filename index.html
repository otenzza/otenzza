<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Otenzza — 3D Cube</title>
  <style>
    :root{ --size: clamp(220px, 34vw, 360px); --bg:#0a0a0d; --text:#e8e8ee; --blue1:#4a6aff; --blue2:#244bff; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:28px; background: radial-gradient(1200px 600px at 50% 45%, #101018 0%, var(--bg) 60%); color:var(--text); font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
    h1{ margin:0; font-family: "Sora", Inter, sans-serif; letter-spacing:.18em; text-transform:uppercase; }

    /* ===== STAGE with PERSPECTIVE (fundamental p/ 3D de verdade) ===== */
    .stage{ width:var(--size); height:var(--size); display:grid; place-items:center; perspective:900px; }

    /* CUBE container preserva 3D e aplica rotação global */
    .cube{ position:relative; width:var(--size); height:var(--size); transform-style:preserve-3d; --rx:-26deg; --ry:38deg; transform: rotateX(var(--rx)) rotateY(var(--ry)); filter: drop-shadow(0 30px 60px rgba(42,87,255,.25)); cursor:grab; }
    .cube:active{ cursor:grabbing }

    /* FACES: centralizadas e empurradas para Z=±size/2 */
    .face{ position:absolute; width:var(--size); height:var(--size); left:50%; top:50%; backface-visibility:hidden; border-radius:12px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), inset 0 0 24px rgba(0,0,0,.25); }

    .front  { background: linear-gradient(145deg, var(--blue1), var(--blue2));                  transform: translate(-50%,-50%) translateZ(calc(var(--size)/2)); }
    .back   { background: linear-gradient(145deg, #1c2cff, #101dff);                           transform: translate(-50%,-50%) rotateY(180deg) translateZ(calc(var(--size)/2)); }
    .right  { background: linear-gradient(145deg, #3656ff, #1d33ff);                           transform: translate(-50%,-50%) rotateY(90deg)  translateZ(calc(var(--size)/2)); }
    .left   { background: linear-gradient(145deg, #2a4dff, #162cff);                           transform: translate(-50%,-50%) rotateY(-90deg) translateZ(calc(var(--size)/2)); }
    .top    { background: linear-gradient(145deg, #5d76ff, #2d4fff);                           transform: translate(-50%,-50%) rotateX(90deg)  translateZ(calc(var(--size)/2)); }
    .bottom { background: linear-gradient(145deg, #203bff, #0f22ff);                           transform: translate(-50%,-50%) rotateX(-90deg) translateZ(calc(var(--size)/2)); }

    /* Halo premium */
    .halo{ position:absolute; inset:0; border-radius:50%; filter: blur(46px); background: radial-gradient(50% 50% at 50% 60%, rgba(42,87,255,.36), transparent 72%); pointer-events:none; transform: translateZ(-120px); }
  </style>
</head>
<body>
  <h1>OTENZZA</h1>

  <div class="stage" id="stage">
    <div class="cube" id="cube">
      <div class="face front"></div>
      <div class="face back"></div>
      <div class="face right"></div>
      <div class="face left"></div>
      <div class="face top"></div>
      <div class="face bottom"></div>
      <div class="halo"></div>
    </div>
  </div>

  <script>
    // Drag (mouse/touch) + auto-rotate quando solta
    (()=>{
      const cube = document.getElementById('cube');
      const stage = document.getElementById('stage');
      let rx = -26, ry = 38; let dragging=false, lastX=0, lastY=0; let auto=true, raf;

      const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));
      const setRot = ()=>{ cube.style.setProperty('--rx', rx+'deg'); cube.style.setProperty('--ry', ry+'deg'); cube.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`; };

      const start=(x,y)=>{ dragging=true; lastX=x; lastY=y; auto=false; cancelAnimationFrame(raf); };
      const move=(x,y)=>{ if(!dragging) return; const dx=x-lastX, dy=y-lastY; ry += dx*0.45; rx -= dy*0.45; rx = clamp(rx,-88,88); setRot(); lastX=x; lastY=y; };
      const end=()=>{ dragging=false; auto=true; tick(); };

      // Mouse
      stage.addEventListener('mousedown', e=> start(e.clientX, e.clientY));
      window.addEventListener('mousemove', e=> move(e.clientX, e.clientY));
      window.addEventListener('mouseup', end);
      // Touch
      stage.addEventListener('touchstart', e=>{ const t=e.touches[0]; start(t.clientX,t.clientY); }, {passive:true});
      window.addEventListener('touchmove', e=>{ const t=e.touches[0]; move(t.clientX,t.clientY); }, {passive:true});
      window.addEventListener('touchend', end);

      function tick(){ if(auto){ ry += 0.10; setRot(); } raf = requestAnimationFrame(tick); }
      setRot(); tick();
    })();
  </script>
</body>
</html>
